(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7522],{401:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155);s(2115);let l=[{id:"PHONE_BIZ",label:"Pack Smartphones Entreprise",segment:"Phones GuardCloud",devices:"10 – 50 t\xe9l\xe9phones",priceXof:9900,per:"MOIS",note:"par appareil et par mois"},{id:"PC_BIZ",label:"Pack PC & Laptops",segment:"PCGuard / Bureau",devices:"5 – 50 PC",priceXof:12900,per:"MOIS",note:"par poste fixe ou portable"},{id:"FULL_SECURITY",label:"S\xe9curit\xe9 Globale Premium",segment:"Phones + PC + Drones / Sites",devices:"Par site critique",priceXof:25e4,per:"MOIS",note:"sur-mesure (banques, minist\xe8res, etc.)"}];function a(){return(0,r.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/70 overflow-hidden shadow-[0_0_40px_rgba(15,23,42,0.9)]",children:[(0,r.jsxs)("div",{className:"px-4 md:px-6 py-4 border-b border-slate-800 flex items-center justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-white",children:"R\xe9sum\xe9 des offres GuardCloud"}),(0,r.jsx)("p",{className:"text-[11px] text-slate-400 mt-0.5",children:"Base tarifaire indicative pour phones, PC et sites sensibles."})]}),(0,r.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-emerald-500/10 border border-emerald-500/40 text-emerald-300",children:"D\xe9mo commerciale"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-xs",children:[(0,r.jsx)("thead",{className:"bg-slate-900/80 border-b border-slate-800",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)(n,{children:"Offre"}),(0,r.jsx)(n,{children:"Segment"}),(0,r.jsx)(n,{children:"Volume d'appareils"}),(0,r.jsx)(n,{children:"Prix indicatif"}),(0,r.jsx)(n,{children:"Commentaire"})]})}),(0,r.jsx)("tbody",{children:l.map(e=>(0,r.jsxs)("tr",{className:"border-t border-slate-800/60 hover:bg-slate-900/80 transition",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("div",{className:"font-semibold text-white",children:e.label}),(0,r.jsxs)("div",{className:"text-[10px] text-slate-400 mt-0.5",children:["Code interne : ",e.id]})]}),(0,r.jsx)(i,{children:(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-slate-800 text-slate-100 border border-slate-700 text-[10px]",children:e.segment})}),(0,r.jsx)(i,{children:e.devices}),(0,r.jsxs)(i,{children:[(0,r.jsxs)("div",{className:"font-semibold text-emerald-400",children:[e.priceXof.toLocaleString("fr-FR")," XOF / ",e.per]}),(0,r.jsx)("div",{className:"text-[10px] text-slate-400 mt-0.5",children:"Facturation mensuelle via MoneyFusion"})]}),(0,r.jsx)(i,{children:(0,r.jsx)("div",{className:"text-[11px] text-slate-300",children:e.note||"Tarification adaptable selon le profil."})})]},e.id))})]})}),(0,r.jsx)("div",{className:"px-4 md:px-6 py-3 border-t border-slate-800 text-[11px] text-slate-400",children:"Ces montants sont indicatifs pour la d\xe9mo. Tu peux ensuite les adapter par client, par pays ou par revendeur dans MoneyFusion."})]})}function n(e){let{children:t}=e;return(0,r.jsx)("th",{className:"px-4 md:px-6 py-2 text-left font-medium text-slate-300",children:t})}function i(e){let{children:t}=e;return(0,r.jsx)("td",{className:"px-4 md:px-6 py-2 align-top text-slate-100",children:t})}var d=s(8309);function c(){return(0,r.jsx)("div",{className:"min-h-screen bg-slate-950 text-white px-6 py-6",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-5",children:[(0,r.jsxs)("header",{className:"space-y-1",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Yarmotek GuardCloud – Billing & MoneyFusion"}),(0,r.jsx)("p",{className:"text-xs text-slate-300",children:"Vue synth\xe9tique des abonnements, factures et liens de paiement MoneyFusion."})]}),(0,r.jsx)("section",{children:(0,r.jsx)(a,{})}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-sm font-semibold mb-2",children:"Historique des factures GuardCloud"}),(0,r.jsx)(d.default,{})]})]})})}},7851:(e,t,s)=>{Promise.resolve().then(s.bind(s,401))},8309:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r,l=s(5155),a=s(2115);let n=null!=(r=s(5704).env.NEXT_PUBLIC_API_BASE_URL)?r:"https://yarmotek-guardcloud-api.myarbanga.workers.dev";function i(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[i,d]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{var e;r(!0),d(null);let s="".concat(n,"/billing/invoices/by-client?clientId=").concat(encodeURIComponent("CLIENT-TEST")),l=await fetch(s);if(!l.ok)throw Error("HTTP ".concat(l.status.toString()));let a=await l.json();if(!a.ok)throw Error(a.error||"Erreur API");t(null!=(e=a.invoices)?e:[])}catch(e){console.error(e),d(function(e){if(e instanceof Error)return e.message;if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(e){return"Erreur inconnue"}}(e)||"Erreur lors du chargement des factures")}finally{r(!1)}})()},[]),s)?(0,l.jsx)("div",{className:"text-gray-300 px-6 py-4",children:"Chargement des factures…"}):i?(0,l.jsx)("div",{className:"mb-4 rounded-md bg-red-900/60 px-4 py-2 text-sm text-red-200",children:i}):e.length?(0,l.jsxs)("div",{className:"rounded-xl bg-[#050816] border border-gray-800 overflow-hidden",children:[(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"bg-[#060b1a] border-b border-gray-800",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Facture"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Client"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"P\xe9riode"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Appareils"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Montant"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Statut"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Cr\xe9\xe9e le"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left font-medium text-gray-300",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:e.map(e=>{var t,s;let r=new Date(e.createdAt);return(0,l.jsxs)("tr",{className:"border-t border-gray-800 hover:bg-white/5 transition",children:[(0,l.jsxs)("td",{className:"px-6 py-3 align-middle",children:[(0,l.jsx)("div",{className:"font-semibold",children:e.invoiceId}),e.paidAt&&(0,l.jsxs)("div",{className:"text-xs text-emerald-300",children:["Pay\xe9e le"," ",new Date(e.paidAt).toLocaleDateString("fr-FR")]})]}),(0,l.jsxs)("td",{className:"px-6 py-3 align-middle",children:[(0,l.jsx)("div",{className:"font-semibold",children:null!=(t=e.clientName)?t:e.clientId}),(0,l.jsx)("div",{className:"text-xs text-gray-400",children:e.clientId})]}),(0,l.jsx)("td",{className:"px-6 py-3 align-middle",children:"YEARLY"===(s=e.billing.period)?"Ann\xe9e":"WEEKLY"===s?"Semaine":"Mois"}),(0,l.jsx)("td",{className:"px-6 py-3 align-middle",children:e.billing.devicesCount}),(0,l.jsxs)("td",{className:"px-6 py-3 align-middle",children:[(0,l.jsxs)("div",{className:"font-semibold text-emerald-400",children:[e.billing.totalXof.toLocaleString("fr-FR")," XOF"]}),(0,l.jsxs)("div",{className:"text-xs text-gray-400",children:["≈ ",e.billing.approxUsd.toFixed(2)," USD"]})]}),(0,l.jsx)("td",{className:"px-6 py-3 align-middle",children:function(e){let t=(e||"").toUpperCase();return"PAID"===t?(0,l.jsx)("span",{className:"inline-flex rounded-full bg-emerald-900/80 px-3 py-1 text-xs font-medium text-emerald-200",children:"Pay\xe9e"}):"PENDING"===t?(0,l.jsx)("span",{className:"inline-flex rounded-full bg-amber-900/80 px-3 py-1 text-xs font-medium text-amber-200",children:"En attente"}):(0,l.jsx)("span",{className:"inline-flex rounded-full bg-gray-800 px-3 py-1 text-xs font-medium text-gray-200",children:e||"Inconnu"})}(e.status)}),(0,l.jsx)("td",{className:"px-6 py-3 align-middle",children:r.toLocaleDateString("fr-FR")}),(0,l.jsxs)("td",{className:"px-6 py-3 align-middle space-x-2",children:[(0,l.jsx)("a",{href:e.checkoutUrl,target:"_blank",rel:"noreferrer",className:"inline-block mb-1 rounded-full bg-emerald-500 px-4 py-1 text-xs font-semibold text-black hover:bg-emerald-400",children:"Voir paiement"}),"PAID"===e.status.toUpperCase()&&(0,l.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.invoiceId,void window.open("/api/invoices/".concat(t,"/pdf"),"_blank")},className:"inline-block rounded-full bg-sky-500 px-4 py-1 text-xs font-semibold text-black hover:bg-sky-400",children:"Re\xe7u PDF"})]})]},e.invoiceId)})})]}),(0,l.jsx)("div",{className:"px-6 py-4 text-xs text-gray-400 border-t border-gray-800",children:"Historique des factures g\xe9n\xe9r\xe9es par l'API GuardCloud (MoneyFusion – Fusion Link)."})]}):(0,l.jsx)("div",{className:"px-6 py-4 text-sm text-gray-300",children:"Aucune facture trouv\xe9e pour ce client."})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=7851)),_N_E=e.O()}]);